<template>
  <require from="./au-input-currency"></require>
  <style>
    h1 {
      margin-left: 2pc;
    }
    h2 {
      margin-left: 4pc;
    }
    p, label, pre {
      margin-left: 6pc;
    }
    .defaultFont {
      font-family: Helvetica, Arial;
    }
    .codeFont {
      font-family: Courier, Monospaced;
      font-size: medium;
    }
    .rightAlign {
      text-align: right;
    }
  </style>
  <h1 class="defaultFont">Demo: an Aurelia custom component <br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;for user input/editing of a currency amount</h1>
  <hr>
  <h2 class="defaultFont">What the user sees and can interact with: (Try it.)</h2>
  <label>Currency amount:
    <au-input-currency classes-string.one-time="'codeFont rightAlign'"
                       max-length.one-time="15"
                       currency-amt.to-view="aCurrencyAmt"
                       on-user-changed-currency-amt.call="userChangedCurrencyAmt(newCurrencyAmt)">
    </au-input-currency>
  </label>
  <h2 class="defaultFont"> In this demo's view, the HTML coding of the custom element:</h2>
  <pre class="codeFont">
&lt;label&gt;Currency amount:
  &lt;au-input-currency
      classes-string.one-time="'defaultFont rightAlign'"
      max-length.one-time="15"
      currency-amt.to-view="aCurrencyAmt"
      on-user-changed-currency-amt.call="userChangedCurrencyAmt(newCurrencyAmt)"&gt;
  &lt;/au-input-currency&gt;
&lt;/label&gt;
  </pre>
  <h2 class="defaultFont">This demo's view-model:</h2>
  <pre class="codeFont">
export class App {

  aCurrencyAmt: number = <span style="color: red; font-weight: bold; font-size: large;">${aCurrencyAmt}</span>; // the data source for the custom component
  /*
  * Watch the value of the above property change if your interaction
  * with the custom component changes the currency amount.
  * (Note: the change doesn't happen until the component loses focus.)
  */

  userChangedCurrencyAmt(newCurrencyAmt): void {
    /*
    * The component calls this function when the custom component loses focus
    * if and only if user interaction with the custom component has changed
    * the currency amt. Otherwise, this funcion is not called.
    */
    this.aCurrencyAmt = newCurrencyAmt; // update data source with the user-changed currency amt
    /*
    * Follow the above with any additional code needed for
    * reacting to the change in the value of the data source--
    * e.g., updating a total to which the data source contributes.
    */
  }
}
  </pre>
</template>
