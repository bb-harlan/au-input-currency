<template>
  <require from="./au-input-currency"></require>
  <style>
    h1 {
      margin-left: 2pc;
    }
    h2 {
      margin-left: 4pc;
    }
    p, label, pre {
      margin-left: 6pc;
    }
    .defaultFont {
      font-family: Helvetica, Arial;
    }
    .codeFont {
      font-family: Courier, Monospaced;
      font-size: medium;
    }
    .rightAlign {
      text-align: right;
    }
  </style>
  <h1 class="defaultFont"><span style="font-family: Courier, Monospaced;">&lt;au-input-currency&gt;</span> demo</h1>
  <hr>
  <h2 class="defaultFont">What the user sees and can interact with:</h2>
  <label>Currency amount:
    <au-input-currency classes-string.one-time="'codeFont rightAlign'"
                       max-length.one-time="15"
                       currency-amt.to-view="aCurrencyAmt"
                       on-user-changed-currency-amt.call="userChangedCurrencyAmt(newCurrencyAmt)">
    </au-input-currency>
  </label>
  <span style="margin-left: 1pc; color: red; font-weight: bold; font-size: large;">(Try it.)</span>
  <h2 class="defaultFont">The HTML coding of the custom element in this demo's view:</h2>
  <pre class="codeFont">
&lt;label&gt;Currency amount:
  &lt;au-input-currency
      classes-string.one-time="'defaultFont rightAlign'"
      max-length.one-time="15"
      currency-amt.to-view="aCurrencyAmt"
      on-user-changed-currency-amt.call="userChangedCurrencyAmt(newCurrencyAmt)"&gt;
  &lt;/au-input-currency&gt;
&lt;/label&gt;
  </pre>
  <h2 class="defaultFont">This demo's view-model:</h2>
  <pre class="codeFont">
export class App {

  aCurrencyAmt: number = <span style="color: red; font-weight: bold; font-size: large;">${aCurrencyAmt}</span>; // the data source for the custom component
     /*
      * User interaction with the custom element can change the element's value.
      * When the custom element loses focus (by tabbing or clicking away
      * from it or by pressing the Enter key), the change to its value is pushed
      * to the data source by the following callback function.
      * Try it to see that happen.
      */

  userChangedCurrencyAmt(newCurrencyAmt): void {
     /*
      * The component calls this function when the custom component loses focus
      * if and only if user interaction with the custom component has changed
      * the currency amount. Otherwise, this function is not called.
      */

    this.aCurrencyAmt = newCurrencyAmt; // update data source with the user-changed currency amt

     /*
      * Follow the above with any additional code needed for
      * reacting to the change in the value of the data source--
      * e.g., updating a total to which the data source contributes.
      */
  }
}
  </pre>
</template>
